# ═══════════════════════════════════════════════════════════════════════════════
# DBaaS Platform - Main Configuration (Development)
# ═══════════════════════════════════════════════════════════════════════════════

spring.application.name=dbaas-platform

# ═══════════════════════════════════════════════════════════════════════════════
# Database - H2 In-Memory (Development)
# ═══════════════════════════════════════════════════════════════════════════════
spring.datasource.url=jdbc:h2:mem:dbaasdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Flyway disabled for dev
spring.flyway.enabled=false

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ═══════════════════════════════════════════════════════════════════════════════
# Server Configuration
# ═══════════════════════════════════════════════════════════════════════════════
server.port=8080

# ═══════════════════════════════════════════════════════════════════════════════
# JWT Authentication
# ═══════════════════════════════════════════════════════════════════════════════
jwt.secret=dGhpcy1pcy1hLXZlcnktc2VjdXJlLWtleS1mb3ItZGJhYXMtcGxhdGZvcm0tand0
jwt.expiration=86400000

# ═══════════════════════════════════════════════════════════════════════════════
# Docker Configuration (Windows - TCP mode)
# ═══════════════════════════════════════════════════════════════════════════════
docker.host=tcp://localhost:2375
docker.tls-verify=false

# ═══════════════════════════════════════════════════════════════════════════════
# Cluster Defaults
# ═══════════════════════════════════════════════════════════════════════════════
cluster.defaults.mysql-version=8.0
cluster.defaults.replica-count=2
cluster.defaults.cpu-limit=2
cluster.defaults.memory-limit=4G
cluster.defaults.storage-limit=50G
cluster.network.subnet-prefix=172.28
cluster.ports.base=33060
cluster.ports.step=10

# ═══════════════════════════════════════════════════════════════════════════════
# ProxySQL Configuration
# ═══════════════════════════════════════════════════════════════════════════════
proxysql.admin.port=6032
proxysql.admin.user=admin
proxysql.admin.password=admin
proxysql.mysql.write-port=6033
proxysql.mysql.read-port=6034

# ═══════════════════════════════════════════════════════════════════════════════
# Orchestrator Configuration
# ═══════════════════════════════════════════════════════════════════════════════
orchestrator.url=http://localhost:3000
orchestrator.api-path=/api

# ═══════════════════════════════════════════════════════════════════════════════
# N8N Webhook (optional)
# ═══════════════════════════════════════════════════════════════════════════════
n8n.webhook-url=

# ═══════════════════════════════════════════════════════════════════════════════
# Actuator / Monitoring
# ═══════════════════════════════════════════════════════════════════════════════
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# ═══════════════════════════════════════════════════════════════════════════════
# Logging
# ═══════════════════════════════════════════════════════════════════════════════
logging.level.root=INFO
logging.level.com.dbaas=DEBUG
logging.level.com.github.dockerjava=WARN
logging.level.org.flywaydb=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=OFF

# ═══════════════════════════════════════════════════════════════════════════════
# OpenAPI / Swagger
# ═══════════════════════════════════════════════════════════════════════════════
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
